(this.webpackJsonpexercise_work1=this.webpackJsonpexercise_work1||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(7),o=n.n(a),l=(n(90),n(91),n(4)),d=n(27),r=n(28),s=n(35),j=function(e,t){switch(t.type){case"updateElements":var n=t.payload;return Object(l.a)(Object(l.a)({},e),{},{_elementContent:n});case"addPic":var c=t.payload;return Object(l.a)(Object(l.a)({},e),{},{_elementContent:[].concat(Object(s.a)(e._elementContent),Object(s.a)(c))});case"addTxt":var i=t.payload;return Object(l.a)(Object(l.a)({},e),{},{_elementContent:[].concat(Object(s.a)(e._elementContent),Object(s.a)(i))});case"editPic":var a=t.payload;return Object(l.a)(Object(l.a)({},e),a);case"editTxt":var o=t.payload;return Object(l.a)(Object(l.a)({},e),o);case"txtChange":var d=t.payload;return Object(l.a)(Object(l.a)({},e),d);case"picChange":var r=t.payload;return Object(l.a)(Object(l.a)({},e),r);case"savePic":var j=t.payload;return Object(l.a)(Object(l.a)({},e),j);case"deleteEl":var u=t.payload;return Object(l.a)(Object(l.a)({},e),u);case"deleteAll":var b=t.payload;return Object(l.a)(Object(l.a)({},e),b);case"makeBorderShow":var p=t.payload;return Object(l.a)(Object(l.a)({},e),p);case"hideBorderShow":var h=t.payload;return Object(l.a)(Object(l.a)({},e),h);default:throw new Error}},u=n(2),b={_elementContent:[],isPicEditShow:!1,isTextEditShow:!1,isDeleteShow:!1,idstate:"",picvalue:"https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png",txtvalue:"empty text",initialPic:{id:Object(r.v4)(),type:"pic",content:"https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png"},initialTxt:{id:Object(r.v4)(),type:"txt",content:"empty text"}},p=Object(c.createContext)({state:b,dispatch:function(){return null}}),h=function(e){var t=e.children,n=Object(c.useReducer)(j,Object(l.a)(Object(l.a)({},b),{},{_elementContent:JSON.parse(localStorage.getItem("elementContent")||"[]")||[]})),i=Object(d.a)(n,2),a=i[0],o=i[1];return Object(u.jsx)(p.Provider,{value:{state:a,dispatch:o},children:t})},O=n(132),x=function(e){var t=Object(c.useContext)(p),n=t.state,i=t.dispatch,a=n._elementContent,o=Object(c.useState)(!1),l=Object(d.a)(o,2),r=l[0],s=l[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"\u6587\u6863\u64cd\u4f5c"}),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)("button",{onClick:function(e){s(!0)},className:"btn btn-default",children:"\u9884\u89c8"}),Object(u.jsx)("button",{onClick:function(e){localStorage.setItem("elementContent",JSON.stringify(a))},className:"btn btn-default",children:"\u4fdd\u5b58"}),Object(u.jsx)("button",{onClick:function(e){localStorage.removeItem("elementContent");i({type:"deleteAll",payload:{_elementContent:[],isDeleteShow:!1,isTextEditShow:!1,isPicEditShow:!1}})},className:"btn btn-default",children:"\u6e05\u7a7a"})]}),Object(u.jsx)(O.a,{title:"\u9884\u89c8\u5185\u5bb9",centered:!0,visible:r,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:a.map((function(e,t){return"pic"===e.type?Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.content,alt:"loading error",className:"img-responsive"},t)},e.id):"txt"===e.type?Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:e.content})},e.id):void 0}))})]})},v=function(e){var t=Object(c.useContext)(p),n=t.state,i=t.dispatch;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"\u6dfb\u52a0\u5143\u7d20"}),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)("button",{onClick:function(e){0===n._elementContent.length?i({type:"addPic",payload:[n.initialPic]}):i({type:"addPic",payload:[{id:Object(r.v4)(),type:"pic",content:n.initialPic.content}]})},className:"btn btn-default",children:"\u56fe\u7247"}),Object(u.jsx)("button",{onClick:function(e){1===n._elementContent.length?i({type:"addTxt",payload:[n.initialTxt]}):i({type:"addTxt",payload:[{id:Object(r.v4)(),type:"txt",content:n.initialTxt.content}]})},className:"btn btn-default",children:"\u6587\u5b57"})]})]})},f=n(45),m=function(e){var t=Object(c.useContext)(p),n=t.state,i=t.dispatch,a=n._elementContent,o=function(e,t){var n=a.find((function(e){return e.id===t}));n&&(n.isBorderShow=!0),i({type:"makeBorderShow",payload:a})},r=function(e,t){var n=a.find((function(e){return e.id===t}));n&&(n.isBorderShow=!1),i({type:"hideBorderShow",payload:a})},s=function(e){return"pic"===e.type?Object(u.jsx)("div",{style:{border:e.isBorderShow?"1px solid":""},onMouseEnter:function(t){o(0,e.id)},onMouseLeave:function(t){r(0,e.id)},children:Object(u.jsx)("img",{src:e.content,onClick:function(t){!function(e,t){var n=a.find((function(e){return e.id===t})),c={isDeleteShow:!0,isPicEditShow:!0,isTextEditShow:!1,picvalue:null===n||void 0===n?void 0:n.content,idstate:t};i({type:"editPic",payload:c})}(0,e.id)},alt:"loading error",className:"img-responsive"})},e.id):"txt"===e.type?Object(u.jsx)("div",{style:{border:e.isBorderShow?"1px solid":""},onMouseEnter:function(t){o(0,e.id)},onMouseLeave:function(t){r(0,e.id)},children:Object(u.jsx)("p",{onClick:function(t){!function(e,t){var n=a.find((function(e){return e.id===t})),c={isDeleteShow:!0,isTextEditShow:!0,isPicEditShow:!1,txtvalue:null===n||void 0===n?void 0:n.content,idstate:t};i({type:"editTxt",payload:c})}(0,e.id)},children:e.content})},e.id):void 0};return Object(u.jsxs)("div",{className:"col-xs-6 text-left",style:{border:"1px solid",display:"block"},children:[Object(u.jsx)("h3",{children:"\u7b80\u5355\u7f16\u8f91\u5668"}),Object(u.jsx)(f.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var c=Array.from(e),i=c.splice(t,1),a=Object(d.a)(i,1)[0];return c.splice(n,0,a),c}(a,e.source.index,e.destination.index);i({type:"updateElements",payload:t})}},children:Object(u.jsx)(f.c,{droppableId:"droppable",children:function(e){return Object(u.jsx)("div",Object(l.a)(Object(l.a)({},e.droppableProps),{},{ref:e.innerRef,children:a.map((function(e,t){return Object(u.jsx)(f.b,{draggableId:e.id,index:t,children:function(t){return Object(u.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:s(e)}))}},e.id)}))}))}})})]})},y=function(e){var t=Object(c.useContext)(p),n=t.state,i=t.dispatch;return Object(u.jsx)("div",{style:{display:n.isDeleteShow?"block":"none"},className:"text-left",children:Object(u.jsx)("button",{onClick:function(e){var t=n.idstate,c=n._elementContent.filter((function(e){return e.id!==t}));n._elementContent.forEach((function(e){e.id===n.idstate&&(e.content=n.txtvalue)})),i({type:"deleteEl",payload:{_elementContent:c,isDeleteShow:!1,isTextEditShow:!1,isPicEditShow:!1}})},children:"\u5220\u9664"})})},g=n(83),C=function(e){var t=Object(c.useContext)(p),n=t.state,i=t.dispatch,a=n._elementContent,o=function(e){a.forEach((function(e){e.id===n.idstate&&(e.content=n.txtvalue)}));var t={txtvalue:e.target.value,_elementContent:a};i({type:"txtChange",payload:t})};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{style:{display:n.isPicEditShow?"block":"none"},children:[Object(u.jsx)("h4",{children:"\u7f16\u8f91"}),Object(u.jsx)("textarea",{onChange:function(e){var t={picvalue:e.target.value};i({type:"picChange",payload:t})},value:n.picvalue,defaultValue:n.initialPic.content}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(e){a.forEach((function(e){e.id===n.idstate&&(e.content=n.picvalue)})),i({type:"savePic",payload:a})},children:"\u4fee\u6539\u56fe\u7247"})]}),Object(u.jsxs)("div",{style:{display:n.isTextEditShow?"block":"none"},children:[Object(u.jsx)(g.a,{inline:!1,initialValue:n.txtvalue,onChange:function(){return o},value:n.txtvalue,init:{height:"400px",language:"zh_CN",plugins:"table lists link image",toolbar:"formatselect | bold italic strikethrough forecolor backcolor | link image | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent",relative_urls:!1,content_css:["/codepen.min.css"]}}),Object(u.jsx)("textarea",{onChange:o,value:n.txtvalue,defaultValue:n.txtvalue})]})]})};var w=function(){return Object(u.jsx)(h,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)(x,{}),Object(u.jsx)(v,{})]}),Object(u.jsx)("div",{className:"center",children:Object(u.jsx)(m,{})}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("h3",{children:"\u5143\u7d20\u64cd\u4f5c"}),Object(u.jsx)(y,{}),Object(u.jsx)(C,{})]})]})})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(w,{})}),document.getElementById("root")),S()},90:function(e,t,n){},91:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.7141d2b3.chunk.js.map